{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"afterLogin\",\n  components: {},\n  data() {\n    return {\n      users: [],\n      // showPopup: true,\n      id: \"\",\n      email: \"\",\n      avatar: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      ShowAvatarUrl: \"\"\n    };\n  },\n  methods: {\n    async usersData() {\n      // this.users = [];\n      await axios.get(\"https://reqres.in/api/users\").then(response => {\n        const data = response.data.data;\n        this.users = data;\n        console.log(response);\n      });\n    },\n    addData() {\n      axios.post(\"https://reqres.in/api/users\", {\n        id: this.id,\n        email: this.email,\n        first_name: this.firstName,\n        last_name: this.lastName,\n        avatar: this.avatar\n      }).then(response => {\n        const data = response.data;\n        this.users.push(data);\n        this.id = \"\";\n        this.email = \"\";\n        this.firstName = \"\";\n        this.lastName = \"\";\n        this.avatar = \"\";\n      });\n    },\n    deleteData(index) {\n      axios.delete(\"https://reqres.in/api/users\").then(response => {\n        // const data = response.data;\n        // // this.users.splice(data,1)\n        // this.users = data\n\n        this.users.splice(index, 1);\n        //     console.log(response);\n      });\n    },\n\n    //    selectFile() {\n    //     this.avatar = this.$refs.file.files[0];\n    // },\n\n    selectFile(e) {\n      let selectImage = e.target.files[0];\n      this.createBase64Image(selectImage);\n    },\n    createBase64Image(fileObject) {\n      let reader = new FileReader();\n      reader.onload = e => {\n        this.avatar = e.target.result;\n        this.uploadImage();\n      };\n      reader.readAsDataURL(fileObject);\n    },\n    uploadImage() {\n      const {\n        avatar\n      } = this;\n      axios.post(\"https://reqres.in/api/users\", {\n        avatar\n      }).then(response => {\n        this.ShowAvatarUrl = response.data.url;\n      });\n    }\n  },\n  mounted() {\n    this.usersData();\n  }\n\n  // async mounted() {\n  //   let results = await axios.get(\"https://reqres.in/api/users\");\n  //   console.log(\"results\", results);\n  //   this.list = results.data.data;\n  //   let user = localStorage.getItem(\"user-info\");\n  //   this.name = JSON.parse(user).name;\n  // if (!user) {\n  //   this.$route.push({ name: \"login\" });\n  // }\n  // },\n};","map":{"version":3,"mappings":";AAkDA,OAAOA,KAAI,MAAO,OAAO;AAGzB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAE,CAAC,CAAC;EACdC,IAAI,GAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACT;MACAC,EAAE,EAAE,EAAE;MACNC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE,EAAE;MACVC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,aAAa,EAAE;IAEjB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,SAAS,GAAG;MAChB;MACA,MAAMZ,KAAK,CAACa,GAAG,CAAC,6BAA6B,EAC5CC,IAAI,CAAEC,QAAQ,IAAK;QAClB,MAAMZ,IAAG,GAAIY,QAAQ,CAACZ,IAAI,CAACA,IAAI;QAC/B,IAAI,CAACC,KAAI,GAAID,IAAI;QAEjBa,OAAO,CAACC,GAAG,CAACF,QAAQ;MACtB,CAAC,CAAC;IACJ,CAAC;IACDG,OAAO,GAAG;MACRlB,KAAI,CACDmB,IAAI,CAAC,6BAA6B,EAAE;QACnCd,EAAE,EAAE,IAAI,CAACA,EAAE;QACXC,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBc,UAAU,EAAE,IAAI,CAACZ,SAAS;QAC1Ba,SAAS,EAAE,IAAI,CAACZ,QAAQ;QACxBF,MAAM,EAAE,IAAI,CAACA;MACf,CAAC,EACAO,IAAI,CAAEC,QAAQ,IAAK;QAClB,MAAMZ,IAAG,GAAIY,QAAQ,CAACZ,IAAI;QAC1B,IAAI,CAACC,KAAK,CAACkB,IAAI,CAACnB,IAAI,CAAC;QACrB,IAAI,CAACE,EAAC,GAAI,EAAE;QACZ,IAAI,CAACC,KAAI,GAAI,EAAE;QACf,IAAI,CAACE,SAAQ,GAAI,EAAE;QACnB,IAAI,CAACC,QAAO,GAAI,EAAE;QAClB,IAAI,CAACF,MAAK,GAAI,EAAE;MAClB,CAAC,CAAC;IACN,CAAC;IAEDgB,UAAU,CAACC,KAAK,EAAE;MAChBxB,KAAI,CACHyB,MAAM,CAAC,6BAA6B,EACpCX,IAAI,CAAEC,QAAQ,IAAK;QAElB;QACA;QACA;;QAGA,IAAI,CAACX,KAAK,CAACsB,MAAM,CAACF,KAAK,EAAC,CAAC,CAAC;QAC9B;MACE,CAAC,CAAC;IACJ,CAAC;;IAEH;IACA;IACA;;IAEAG,UAAU,CAACC,CAAC,EAAC;MACX,IAAIC,WAAU,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MACnC,IAAI,CAACC,iBAAiB,CAACH,WAAW,CAAC;IACrC,CAAC;IACDG,iBAAiB,CAACC,UAAU,EAAE;MAC5B,IAAIC,MAAK,GAAI,IAAIC,UAAU,EAAE;MAE7BD,MAAM,CAACE,MAAK,GAAKR,CAAC,IAAK;QACrB,IAAI,CAACrB,MAAK,GAAIqB,CAAC,CAACE,MAAM,CAACO,MAAM;QAC7B,IAAI,CAACC,WAAW,EAAE;MACpB,CAAC;MACDJ,MAAM,CAACK,aAAa,CAACN,UAAU,CAAC;IAClC,CAAC;IACDK,WAAW,GAAG;MACZ,MAAM;QAAC/B;MAAM,IAAI,IAAI;MACrBP,KAAI,CACHmB,IAAI,CAAC,6BAA6B,EAAE;QAACZ;MAAM,CAAC,EAC5CO,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACL,aAAY,GAAIK,QAAQ,CAACZ,IAAI,CAACqC,GAAG;MACxC,CAAC;IACH;EAEA,CAAC;EACDC,OAAO,GAAG;IACR,IAAI,CAAC7B,SAAS,EAAE;EAClB;;EAEA;EACA;EACA;EACA;EACA;EACA;EACE;EACA;EACA;EACF;AACF,CAAC","names":["axios","name","components","data","users","id","email","avatar","firstName","lastName","ShowAvatarUrl","methods","usersData","get","then","response","console","log","addData","post","first_name","last_name","push","deleteData","index","delete","splice","selectFile","e","selectImage","target","files","createBase64Image","fileObject","reader","FileReader","onload","result","uploadImage","readAsDataURL","url","mounted"],"sourceRoot":"","sources":["C:\\Users\\onuso\\OneDrive\\เดสก์ท็อป\\adius test\\Test7Day\\Test\\7daytest\\src\\views\\AfterLogin.vue"],"sourcesContent":["<template>\r\n  <div class=\"after-login\">\r\n    <!-- <a href=\"#login\">Logout</a> -->\r\n    <router-link to=\"/login\" class=\"ctn btn-logout\">Logout</router-link>\r\n\r\n    <div class=\"add-data\">\r\n      <input type=\"text\" placeholder=\"Id\" v-model=\"id\" />\r\n      <input type=\"text\" placeholder=\"Email\" v-model=\"email\" />\r\n      <input v-model=\"firstName\" placeholder=\"First Name\" type=\"text\" />\r\n      <input v-model=\"lastName\" placeholder=\"Last Name\" type=\"text\" />\r\n      <input\r\n        type=\"file\"\r\n        ref=\"file\"\r\n        accept=\"image/*\"\r\n        @change=\"selectFile\"\r\n      />\r\n      <button class=\"ctn\" @click=\"addData()\">Add Data</button>\r\n    </div>\r\n\r\n    <div>\r\n      <table class=\"user-table\">\r\n        <thead class=\"thead-bg\">\r\n          <tr>\r\n            <th scope=\"col\">id</th>\r\n            <th scope=\"col\">avatars</th>\r\n            <th scope=\"col\">email</th>\r\n            <th scope=\"col\">first name</th>\r\n            <th scope=\"col\">last name</th>\r\n            <th scope=\"col\">edit</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody v-for=\"(user, index) in users\" :key=\"index\">\r\n          <tr>\r\n            <td>{{ user.id }}</td>\r\n            <td><img :src=\"user.avatar\" alt=\"\" /></td>\r\n            <td>{{ user.email }}</td>\r\n            <td>{{ user.first_name }}</td>\r\n            <td>{{ user.last_name }}</td>\r\n            <td>\r\n              <button @click=\"deleteData(index)\" class=\"btn btn-delete\">delete</button>\r\n             \r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default {\r\n  name: \"afterLogin\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      users: [],\r\n      // showPopup: true,\r\n      id: \"\",\r\n      email: \"\",\r\n      avatar: \"\",\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      ShowAvatarUrl: \"\",\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    async usersData() {\r\n      // this.users = [];\r\n      await axios.get(\"https://reqres.in/api/users\")\r\n      .then((response) => {\r\n        const data = response.data.data;\r\n        this.users = data;\r\n        \r\n        console.log(response)\r\n      });\r\n    },\r\n    addData() {\r\n      axios\r\n        .post(\"https://reqres.in/api/users\", {\r\n          id: this.id,\r\n          email: this.email,\r\n          first_name: this.firstName,\r\n          last_name: this.lastName,\r\n          avatar: this.avatar,\r\n        })\r\n        .then((response) => {\r\n          const data = response.data;\r\n          this.users.push(data);\r\n          this.id = \"\";\r\n          this.email = \"\";\r\n          this.firstName = \"\";\r\n          this.lastName = \"\";\r\n          this.avatar = \"\";\r\n        });\r\n    },\r\n\r\n    deleteData(index) {\r\n      axios\r\n      .delete(\"https://reqres.in/api/users\")\r\n      .then((response) => {\r\n  \r\n        // const data = response.data;\r\n        // // this.users.splice(data,1)\r\n        // this.users = data\r\n       \r\n        \r\n        this.users.splice(index,1);\r\n    //     console.log(response);\r\n      });\r\n    },\r\n    \r\n  //    selectFile() {\r\n  //     this.avatar = this.$refs.file.files[0];\r\n  // },\r\n\r\n  selectFile(e){\r\n    let selectImage = e.target.files[0];\r\n    this.createBase64Image(selectImage);\r\n  },\r\n  createBase64Image(fileObject) {\r\n    let reader = new FileReader();\r\n\r\n    reader.onload = (e) => {\r\n      this.avatar = e.target.result;\r\n      this.uploadImage();\r\n    };\r\n    reader.readAsDataURL(fileObject);\r\n  },\r\n  uploadImage() {\r\n    const {avatar} = this;\r\n    axios\r\n    .post(\"https://reqres.in/api/users\", {avatar})\r\n    .then((response) => {\r\n      this.ShowAvatarUrl = response.data.url;\r\n    })\r\n  },\r\n \r\n  },\r\n  mounted() {\r\n    this.usersData();\r\n  },\r\n\r\n  // async mounted() {\r\n  //   let results = await axios.get(\"https://reqres.in/api/users\");\r\n  //   console.log(\"results\", results);\r\n  //   this.list = results.data.data;\r\n  //   let user = localStorage.getItem(\"user-info\");\r\n  //   this.name = JSON.parse(user).name;\r\n    // if (!user) {\r\n    //   this.$route.push({ name: \"login\" });\r\n    // }\r\n  // },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@/assets/scss/main.scss\";\r\n\r\ntable {\r\n  font-size: 1.6rem;\r\n  text-align: center;\r\n  font-weight: bold;\r\n}\r\n.user-table {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n\r\n  & td,\r\n  & th {\r\n    border: 1px solid $gray;\r\n    padding: 8px;\r\n  }\r\n\r\n  & tr:hover {\r\n    background-color: $white;\r\n  }\r\n\r\n  & th {\r\n    padding-top: 12px;\r\n    padding-bottom: 12px;\r\n    background-color: $gray;\r\n    color: $white;\r\n  \r\n  }\r\n\r\n  & img {\r\n    width: 70px;\r\n    height: 70px;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n\r\n.add-data {\r\n  & input {\r\n    @include input;\r\n    margin-bottom: 20px;\r\n    padding-left: 20px;\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    height: 40px;\r\n    width: 300px;\r\n\r\n    &:nth-last-child(2) {\r\n      border: none;\r\n    }\r\n  }\r\n  & button {\r\n    @include button-ctn;\r\n    width: 320px;\r\n    height: 40px;\r\n    margin-bottom: 20px;\r\n    padding-left: 20px;\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n}\r\n\r\n.btn-logout {\r\n  display: block;\r\n  margin: 30px;\r\n  text-align: center;\r\n  justify-items: center;\r\n  align-items: center;\r\n}\r\n\r\n.btn {\r\n  @include btn;\r\n}\r\n\r\n// .popup-show {\r\n//   position: fixed;\r\n//   top: 50%;\r\n//   left: 50%;\r\n//   transform: translate(-50%, -50%);\r\n//   z-index: 99;\r\n//   width: 100%;\r\n//   max-width: 400px;\r\n//   background-color: rgba(180, 120, 200, 0.9);\r\n//   border-radius: 20px;\r\n//   text-align: right;\r\n//   padding: 10px;\r\n// }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}